<!doctype html>
<html lang="zh">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>基于bootstrup的jQuery多级列表树插件</title>
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="normalize.css"/>
    <link rel="stylesheet" type="text/css" href="demo.css" />
    <link rel="stylesheet" type="text/css" href="component.css"  />
    <style type="text/css">
        .header{margin-bottom: 15px;font-family: "Segoe UI", "Lucida Grande", Helvetica, Arial, "Microsoft YaHei", FreeSans, Arimo, "Droid Sans", "wenquanyi micro hei", "Hiragino Sans GB", "Hiragino Sans GB W3", "FontAwesome", sans-serif;}
        .icon{color: #fff;}
    </style>
	<!--[if IE]>
		<script src="html5shiv.min.js" tppabs="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
	<![endif]-->
</head>
<body>
          <div class="component">
              <h3>按课程排课</h3>
              <p>显示空白课程表。列出课程树：年级-班级-课程，只能选择课程，点击节次格，按白、红、蓝、绿顺序变色，表示正常、禁止、固定、优先排课。</p>
          </div>
          <br>
      <div class="col-sm-2 col-lg-offset-1">
          <h3>班級樹形</h3>
          <div id="treeview12" class=""></div>
        </div>
        <div class="col-sm-8 ">

            <table class="">
              <thead>
              <tr>
                <th>节次/星期</th><th>周一</th><th>周二</th><th>周三</th><th>周四</th><th>周五</th><th>周六</th><th>周天</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <th >1</th><td id="11111"> 23</td><td>88</td><td>8</td><td>2</td><td>67</td><td>83</td><td>81</td>
              </tr><tr>
                <th>2</th><td>14</td><td>21</td><td>20</td><td>21</td><td>9</td><td>68</td><td>60</td>
              </tr><tr>
                <th>3</th><td>4</td><td>50</td><td>89</td><td>72</td><td>99</td><td>90</td><td>24</td>
              </tr><tr>
                <th>4</th><td>10</td><td class="fixed"> 数学</td><td>32</td><td>45</td><td>53</td><td>29</td>
              </tr><tr>
                <th>5</th><td>85</td><td>42</td><td>71</td><td>56</td><td>30</td><td>3</td><td>41</td>
              </tr><tr>
                <th>6</th><td>18</td><td>80</td><td>85</td><td>65</td><td>9</td><td>93</td><td>93</td>
              </tr><tr>
                <th>7</th><td>30</td><td>81</td><td>46</td><td>50</td><td>71</td><td>60</td><td>8</td>
              </tr><tr>
                <th>8</th><td>23</td><td>88</td><td>8</td><td>2</td><td>67</td><td>83</td><td>81</td>
              </tr><tr>
                <th>9</th><td>14</td><td>21</td><td>20</td><td>21</td><td>9</td><td>68</td><td>60</td>
              </tr>
              </tbody>
            </table>

          <button>获取id</button>
          <!--<h2>Collapsed</h2>
          <div id="treeview2" class=""></div>-->
        </div>
       <!-- <div class="col-sm-4">
          <h2>Expanded</h2>
          <div id="treeview3" class=""></div>
        </div>-->
      </div>
<!--      <div class="row">
        <div class="col-sm-4">
          <h2>Blue Theme</h2>
          <div id="treeview4" class=""></div>
        </div>
        <div class="col-sm-4">
          <h2>Custom Icons</h2>
          <div id="treeview5" class=""></div>
        </div>
        <div class="col-sm-4">
          <h2>Tags as Badges</h2>
          <div id="treeview6" class=""></div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-4">
          <h2>No Border</h2>
          <div id="treeview7" class=""></div>
        </div>
        <div class="col-sm-4">
          <h2>Colourful</h2>
          <div id="treeview8" class=""></div>
        </div>
        <div class="col-sm-4">
          <h2>Node Overrides</h2>
          <div id="treeview9" class=""></div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-4">
          <h2>Link enabled, or</h2>
          <div id="treeview10" class=""></div>
        </div>
        <div class="col-sm-4">

        </div>
        <div class="col-sm-4">

        </div>
      </div>
      <div class="row">
        <hr>
        <h2>Searchable Tree</h2>
        <div class="col-sm-4">
          <h2>Input</h2>
          &lt;!&ndash; <form> &ndash;&gt;
            <div class="form-group">
              <label for="input-search" class="sr-only">Search Tree:</label>
              <input type="input" class="form-control" id="input-search" placeholder="Type to search..." value="">
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox" class="checkbox" id="chk-ignore-case" value="false">
                Ignore Case
              </label>
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox" class="checkbox" id="chk-exact-match" value="false">
                Exact Match
              </label>
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox" class="checkbox" id="chk-reveal-results" value="false">
                Reveal Results
              </label>
            </div>
            <button type="button" class="btn btn-success" id="btn-search">Search</button>
            <button type="button" class="btn btn-default" id="btn-clear-search">Clear</button>
          &lt;!&ndash; </form> &ndash;&gt;
        </div>
        <div class="col-sm-4">
          <h2>Tree</h2>
          <div id="treeview-searchable" class=""></div>
        </div>
        <div class="col-sm-4">
          <h2>Results</h2>
          <div id="search-output"></div>
        </div>
      </div>
      <div class="row">
        <hr>
        <h2>Selectable Tree</h2>
        <div class="col-sm-4">
          <h2>Input</h2>
          <div class="form-group">
            <label for="input-select-node" class="sr-only">Search Tree:</label>
            <input type="input" class="form-control" id="input-select-node" placeholder="Identify node..." value="Parent 1">
          </div>
          <div class="checkbox">
            <label>
              <input type="checkbox" class="checkbox" id="chk-select-multi" value="false">
              Multi Select
            </label>
          </div>
          <div class="checkbox">
            <label>
              <input type="checkbox" class="checkbox" id="chk-select-silent" value="false">
              Silent (No events)
            </label>
          </div>
          <div class="form-group">
              <button type="button" class="btn btn-success select-node" id="btn-select-node">Select Node</button>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-danger select-node" id="btn-unselect-node">Unselect Node</button>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-primary select-node" id="btn-toggle-selected">Toggle Node</button>
          </div>
        </div>
        <div class="col-sm-4">
          <h2>Tree</h2>
          <div id="treeview-selectable" class=""></div>
        </div>
        <div class="col-sm-4">
          <h2>Events</h2>
          <div id="selectable-output"></div>
        </div>
      </div>
      <div class="row">
        <hr>
        <h2>Expandible Tree</h2>
        <div class="col-sm-4">
          <h2>Input</h2>
          <div class="form-group">
            <label for="input-expand-node" class="sr-only">Search Tree:</label>
            <input type="input" class="form-control" id="input-expand-node" placeholder="Identify node..." value="Parent 1">
          </div>
          <div class="checkbox">
            <label>
              <input type="checkbox" class="checkbox" id="chk-expand-silent" value="false">
              Silent (No events)
            </label>
          </div>
          <div class="form-group row">
            <div class="col-sm-6">
              <button type="button" class="btn btn-success expand-node" id="btn-expand-node">Expand Node</button>
            </div>
            <div class="col-sm-6">
              <select class="form-control" id="select-expand-node-levels">
                <option>1</option>
                <option>2</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-danger expand-node" id="btn-collapse-node">Collapse Node</button>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-primary expand-node" id="btn-toggle-expanded">Toggle Node</button>
          </div>
          <hr>
          <div class="form-group row">
            <div class="col-sm-6">
              <button type="button" class="btn btn-success" id="btn-expand-all">Expand All</button>
            </div>
            <div class="col-sm-6">
              <select class="form-control" id="select-expand-all-levels">
                <option>1</option>
                <option>2</option>
              </select>
            </div>
          </div>
          <button type="button" class="btn btn-danger" id="btn-collapse-all">Collapse All</button>
        </div>
        <div class="col-sm-4">
          <h2>Tree</h2>
          <div id="treeview-expandible" class=""></div>
        </div>
        <div class="col-sm-4">
          <h2>Events</h2>
          <div id="expandible-output"></div>
        </div>
      </div>
      <div class="row">
        <hr>
        <h2>Checkable Tree</h2>
        <div class="col-sm-4">
          <h2>Input</h2>
          <div class="form-group">
            <label for="input-check-node" class="sr-only">Search Tree:</label>
            <input type="input" class="form-control" id="input-check-node" placeholder="Identify node..." value="Parent 1">
          </div>
          <div class="checkbox">
            <label>
              <input type="checkbox" class="checkbox" id="chk-check-silent" value="false">
              Silent (No events)
            </label>
          </div>
          <div class="form-group row">
            <div class="col-sm-6">
              <button type="button" class="btn btn-success check-node" id="btn-check-node">Check Node</button>
            </div>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-danger check-node" id="btn-uncheck-node">Uncheck Node</button>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-primary check-node" id="btn-toggle-checked">Toggle Node</button>
          </div>
          <hr>
          <div class="form-group row">
            <div class="col-sm-6">
              <button type="button" class="btn btn-success" id="btn-check-all">Check All</button>
            </div>
          </div>
          <button type="button" class="btn btn-danger" id="btn-uncheck-all">Uncheck All</button>
        </div>
        <div class="col-sm-4">
          <h2>Tree</h2>
          <div id="treeview-checkable" class=""></div>
        </div>
        <div class="col-sm-4">
          <h2>Events</h2>
          <div id="checkable-output"></div>
        </div>
      </div>
      <div class="row">
        <hr>
        <h2>Disabled Tree</h2>
        <div class="col-sm-4">
          <h2>Input</h2>
          <div class="form-group">
            <label for="input-disable-node" class="sr-only">Search Tree:</label>
            <input type="input" class="form-control" id="input-disable-node" placeholder="Identify node..." value="Parent 1">
          </div>
          <div class="checkbox">
            <label>
              <input type="checkbox" class="checkbox" id="chk-disable-silent" value="false">
              Silent (No events)
            </label>
          </div>
          <div class="form-group row">
            <div class="col-sm-6">
              <button type="button" class="btn btn-success disable-node" id="btn-disable-node">Disable Node</button>
            </div>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-danger disable-node" id="btn-enable-node">Enable Node</button>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-primary disable-node" id="btn-toggle-disabled">Toggle Node</button>
          </div>
          <hr>
          <div class="form-group row">
            <div class="col-sm-6">
              <button type="button" class="btn btn-success" id="btn-disable-all">Disable All</button>
            </div>
          </div>
          <button type="button" class="btn btn-danger" id="btn-enable-all">Enable All</button>
        </div>
        <div class="col-sm-4">
          <h2>Tree</h2>
          <div id="treeview-disabled" class=""></div>
        </div>
        <div class="col-sm-4">
          <h2>Events</h2>
          <div id="disabled-output"></div>
        </div>
      </div>
      <div class="row">
        <hr>
        <h2>Data</h2>
        <div class="col-sm-4">
          <h2>JSON Data</h2>
          <div id="treeview12" class=""></div>
        </div>
        <div class="col-sm-4">
          <h2></h2>
          <div id="treeview13" class=""></div>
        </div>
        <div class="col-sm-4">
          <h2></h2>
          <div id="treeview14"></div>
        </div>
      </div>-->
      <br/>
      <br/>
      <br/>
      <br/>
	<script src="jquery.min.js" tppabs="http://www.jq22.com/jquery/2.1.1/jquery.min.js"></script>
	<script src="bootstrap/js/bootstrap-treeview.js" tppabs="http://www.jq22.com/demo/bootstrap-treeview20161102/js/bootstrap-treeview.js"></script>
    <script src="jquery.ba-throttle-debounce.min.js" tppabs="http://www.jq22.com/demo/StickyTable201707311417/js/jquery.ba-throttle-debounce.min.js"></script><script src="jquery.stickyheader.js" tppabs="http://www.jq22.com/demo/StickyTable201707311417/js/jquery.stickyheader.js"></script>
    <script type="text/javascript">

	  		$(function() {
        var json = '[' +
          '{' +
            '"text": "一年級",' +
            '"nodes": [' +
              '{' +
                '"text": "一班",' +
                '"nodes": [' +
                  '{' +
                    '"text": "一年级语文A"' +
                  '},' +
                  '{' +
                    '"text": "一年级数学A"' +
                  '},' +
                  '{' +
                    '"text": "一年级英语A"' +
                  '},' +
                   '{' +
                    '"text": "班会"' +
                    '},' +
                  '{' +
                    '"text": "自习"' +
                    '},' +
                    '{' +
                     '"text": "信息"' +
                    '}' +
                ']' +
              '},' +
              '{' +
                '"text": "二班"' +
              '}' +
            ']' +
          '},' +
          '{' +
            '"text": "二年級"' +
          '},' +
          '{' +
            '"text": "三年級"' +
          '},' +
          '{' +
            '"text": "四年級"' +
          '},' +
          '{' +
            '"text": "五年級"' +
          '}' +
        ']';










        var $tree = $('#treeview12').treeview({
            color: "#000000",
            backColor: "#56c1ff",//背景色,
            borderColor:'green',
            collapseIcon: "glyphicon glyphicon-minus",//可收缩的节点图标
            nodeIcon: "glyphicon glyphicon-user",
            emptyIcon: "glyphicon glyphicon-ban-circle",//设置列表树中没有子节点的节点的图标
            expandIcon: "glyphicon glyphicon-plus",  //设置列表上中有子节点的图标
            highlightSearchResults:true,//是否高亮搜索结果 默认true
            highlightSelected:true,     //是否选中高亮显示
            onhoverColor: "#f5f5f5",    //鼠标滑过的颜色
            levels: 0 ,                 //设置初始化展开几级菜单 默认为2
            selectedIcon: 'glyphicon glyphicon-tint',
            selectedBackColor: 'black',  //设置被选中的节点背景颜色
            selectedColor : 'red',      //设置被选择节点的字体、图标颜色
            showBorder:true,                //是否显示边框
            showCheckbox:false,              //是否显示多选框
            //uncheckedIcon:'',             //设置未选择节点的图标

            showTags:true,//显示徽章
             data: json
        });
  		});
	  	</script>
    <script language="javascript">
        $("table tr td").click(function() {
            var classname= $(this).prop("className");
            console.log(classname);
            switch (classname) {
                case "":$(this).addClass("ban");
                    break;
                case "ban":
                    $(this).removeClass("ban");
                    $(this).addClass("fixed");
                    break;
                case "fixed":
                    $(this).removeClass("fixed");
                    $(this).addClass("priority");
                    break;
                /*                    case "monopoly":
                                        $(this).removeClass("monopoly");
                                        $(this).addClass("fixed");
                                        break;*/
                case "priority":$(this).removeClass("priority");
                    break;
                default:
                    break;
            }
            alert($(this).attr('id'));
        });
        $("button").click(function() {
            var banlist=new Array();

            $('table tr td').each(function(){
                // let this = $(this);
                var map={"id":"",
                    "type":""
                };
                map.id=$(this).text();
                map.type=$(this).prop("className");

                banlist.push(map);
            });

            console.log(JSON.stringify(banlist));
        });
    </script>
</body>
</html>